import{a as O}from"./chunk-VM42K3R6.js";import{q as S}from"./chunk-4LZOVZ2K.js";import{a as k,b as g,c as w,d as x,e as y,g as I,h as E,k as L,l as N}from"./chunk-A7KUYVBP.js";import{d as M,e as v,i as P}from"./chunk-35LWYR67.js";import{Ha as c,Ib as C,Jb as _,Na as u,Pa as l,Sb as T,Va as e,Wa as t,Xa as o,Z as f,Za as h,db as r,ib as b,xa as s,ya as p}from"./chunk-USG2AWOP.js";function F(n,z){n&1&&(e(0,"span"),r(1,"Sign In"),t())}function j(n,z){n&1&&o(0,"span",16)}var Q=(()=>{class n{constructor(m,a,i,d){this.fb=m,this.authService=a,this.toast=i,this.router=d,this.submitting=c(!1),this.shakeState=c("idle"),this.form=this.fb.group({username:["",g.required],password:["",g.required]})}onSubmit(){if(this.form.invalid){this.form.markAllAsTouched(),this.triggerShake();return}this.submitting()||(this.submitting.set(!0),this.authService.login(this.form.value).subscribe({next:m=>{this.submitting.set(!1),m?(this.toast.show("Logged in successfully!","success"),this.router.navigate(["/admin/bio"])):(this.toast.show("Invalid credentials.","error"),this.triggerShake())},error:()=>{this.submitting.set(!1),this.triggerShake()}}))}triggerShake(){this.shakeState.set("shaking"),setTimeout(()=>this.shakeState.set("idle"),500)}static{this.\u0275fac=function(a){return new(a||n)(p(L),p(O),p(T),p(M))}}static{this.\u0275cmp=f({type:n,selectors:[["app-login"]],standalone:!0,features:[b],decls:26,vars:5,consts:[[1,"login-page"],[1,"login-card","glass-card"],[1,"login-header"],[3,"ngSubmit","formGroup"],[1,"form-group"],[1,"input-wrapper"],["type","text","formControlName","username","id","loginUsername","placeholder"," "],["for","loginUsername"],[1,"input-line"],["type","password","formControlName","password","id","loginPassword","placeholder"," "],["for","loginPassword"],["type","submit",1,"btn","btn--primary","btn--full",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],["routerLink","/",1,"back-link"],[1,"fas","fa-arrow-left"],[1,"spinner"]],template:function(a,i){a&1&&(e(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),r(4,"Welcome Back"),t(),e(5,"p"),r(6,"Sign in to access admin features"),t()(),e(7,"form",3),h("ngSubmit",function(){return i.onSubmit()}),e(8,"div",4)(9,"div",5),o(10,"input",6),e(11,"label",7),r(12,"Username"),t(),o(13,"div",8),t()(),e(14,"div",4)(15,"div",5),o(16,"input",9),e(17,"label",10),r(18,"Password"),t(),o(19,"div",8),t()(),e(20,"button",11),u(21,F,2,0,"span",12)(22,j,1,0,"span",13),t()(),e(23,"a",14),o(24,"i",15),r(25," Back to Portfolio "),t()()()),a&2&&(s(),l("@shake",i.shakeState()),s(6),l("formGroup",i.form),s(13),l("disabled",i.submitting()),s(),l("ngIf",!i.submitting()),s(),l("ngIf",i.submitting()))},dependencies:[_,C,N,y,k,w,x,I,E,P,v],styles:[".login-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:2rem;background:linear-gradient(135deg,#0f0c29,#302b63,#24243e)}.login-card[_ngcontent-%COMP%]{width:100%;max-width:420px;padding:3rem 2.5rem;border-radius:20px;text-align:center}@media (max-width: 768px){.login-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}}.login-header[_ngcontent-%COMP%]{margin-bottom:2.5rem}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Space Grotesk,sans-serif;font-size:1.8rem;font-weight:700;color:#fff;margin:0 0 .5rem}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffff80;font-size:.9rem}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%]{text-align:left}.input-wrapper[_ngcontent-%COMP%]{position:relative}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:1rem 0 .5rem;background:transparent;border:none;border-bottom:1px solid rgba(255,255,255,.1);color:#fff;font-size:.95rem;outline:none;transition:border-color .3s}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom-color:var(--accent)}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%], .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ label[_ngcontent-%COMP%]{top:-4px;font-size:.72rem;color:var(--accent)}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ .input-line[_ngcontent-%COMP%]{width:100%}.input-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:.75rem;left:0;color:#fff6;font-size:.9rem;pointer-events:none;transition:all .3s}.input-wrapper[_ngcontent-%COMP%]   .input-line[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:0;height:2px;background:var(--accent);transition:width .3s}.back-link[_ngcontent-%COMP%]{display:inline-block;margin-top:2rem;color:#ffffff80;text-decoration:none;font-size:.85rem;transition:color .3s}.back-link[_ngcontent-%COMP%]:hover{color:var(--accent)}.back-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.4rem}.spinner[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .6s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"],data:{animation:[S]}})}}return n})();export{Q as LoginComponent};

import{a as S}from"./chunk-6SYAYXL6.js";import{a as P,b as s,c as y,d as E,e as O,g as I,h as U,k,l as B}from"./chunk-A7KUYVBP.js";import{a as M}from"./chunk-BCTV2CAY.js";import{e as C,i as x}from"./chunk-35LWYR67.js";import{Ha as c,Ib as _,Jb as h,Na as g,Pa as d,Sb as N,Va as t,Wa as e,Xa as n,Z as u,Za as b,db as i,ib as v,xa as m,ya as f}from"./chunk-USG2AWOP.js";function L(l,w){l&1&&(t(0,"span"),i(1,"Save Bio"),e())}function R(l,w){l&1&&n(0,"span",34)}var J=(()=>{class l{constructor(o,r,a){this.fb=o,this.bioService=r,this.toast=a,this.saving=c(!1),this.editingId=c(null),this.form=this.fb.group({name:["",s.required],title:["",s.required],description:["",s.required],profileImageUrl:["",s.required],email:[""],phone:[""],linkedInUrl:[""],githubUrl:[""],twitterUrl:[""]})}ngOnInit(){this.bioService.getBio().subscribe(o=>{o&&(this.editingId.set(o.id??null),this.form.patchValue(o))})}onSubmit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.saving.set(!0);let o=this.form.value,r=this.editingId();(r?this.bioService.updateBio(o):this.bioService.createBio(o)).subscribe(p=>{this.saving.set(!1),p?(this.editingId.set(p.id??r??null),this.toast.show(r?"Bio updated successfully.":"Bio saved successfully.","success")):this.toast.show("Failed to save bio.","error")})}static{this.\u0275fac=function(r){return new(r||l)(f(k),f(S),f(N))}}static{this.\u0275cmp=u({type:l,selectors:[["app-bio-admin"]],standalone:!0,features:[v],decls:59,vars:4,consts:[[1,"section","admin-bio"],[1,"container"],["appReveal","",1,"admin-bio__header"],["appReveal","",1,"admin-bio__card","glass-card",3,"ngSubmit","formGroup"],[1,"form-grid"],[1,"form-field"],["for","name"],["id","name","type","text","formControlName","name"],["for","title"],["id","title","type","text","formControlName","title"],[1,"form-field","full"],["for","description"],["id","description","rows","4","formControlName","description"],["for","profileImageUrl"],["id","profileImageUrl","type","text","formControlName","profileImageUrl"],["for","email"],["id","email","type","email","formControlName","email"],["for","phone"],["id","phone","type","text","formControlName","phone"],["for","linkedInUrl"],["id","linkedInUrl","type","text","formControlName","linkedInUrl"],["for","githubUrl"],["id","githubUrl","type","text","formControlName","githubUrl"],["for","twitterUrl"],["id","twitterUrl","type","text","formControlName","twitterUrl"],[1,"admin-bio__actions"],["type","submit",1,"btn","btn--primary",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],["routerLink","/admin/books",1,"btn","btn--outline"],["routerLink","/admin/contacts",1,"btn","btn--outline"],["routerLink","/admin/projects",1,"btn","btn--outline"],["routerLink","/admin/pictures",1,"btn","btn--outline"],["routerLink","/",1,"btn","btn--outline"],[1,"spinner"]],template:function(r,a){r&1&&(t(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),i(4,"Admin Bio"),e(),t(5,"p"),i(6,"Update the profile information shown on the portfolio."),e()(),t(7,"form",3),b("ngSubmit",function(){return a.onSubmit()}),t(8,"div",4)(9,"div",5)(10,"label",6),i(11,"Name"),e(),n(12,"input",7),e(),t(13,"div",5)(14,"label",8),i(15,"Title"),e(),n(16,"input",9),e(),t(17,"div",10)(18,"label",11),i(19,"Description"),e(),n(20,"textarea",12),e(),t(21,"div",10)(22,"label",13),i(23,"Profile Image URL"),e(),n(24,"input",14),e(),t(25,"div",5)(26,"label",15),i(27,"Email"),e(),n(28,"input",16),e(),t(29,"div",5)(30,"label",17),i(31,"Phone"),e(),n(32,"input",18),e(),t(33,"div",5)(34,"label",19),i(35,"LinkedIn URL"),e(),n(36,"input",20),e(),t(37,"div",5)(38,"label",21),i(39,"GitHub URL"),e(),n(40,"input",22),e(),t(41,"div",5)(42,"label",23),i(43,"Twitter/X URL"),e(),n(44,"input",24),e()(),t(45,"div",25)(46,"button",26),g(47,L,2,0,"span",27)(48,R,1,0,"span",28),e(),t(49,"a",29),i(50,"Manage Books"),e(),t(51,"a",30),i(52,"Manage Contacts"),e(),t(53,"a",31),i(54,"Manage Projects"),e(),t(55,"a",32),i(56,"Manage Pictures"),e(),t(57,"a",33),i(58,"Back to Portfolio"),e()()()()()),r&2&&(m(7),d("formGroup",a.form),m(39),d("disabled",a.saving()||a.form.invalid),m(),d("ngIf",!a.saving()),m(),d("ngIf",a.saving()))},dependencies:[h,_,B,O,P,y,E,I,U,x,C,M],styles:[".admin-bio__header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2.5rem}.admin-bio__header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-primary);font-size:2rem;margin-bottom:.5rem}.admin-bio__header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary)}.admin-bio__card[_ngcontent-%COMP%]{padding:2rem}.admin-bio__actions[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;gap:1rem;flex-wrap:wrap}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:1rem 1.5rem}.form-grid[_ngcontent-%COMP%]   .full[_ngcontent-%COMP%]{grid-column:1/-1}@media (max-width: 768px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem}.form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.85rem}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background:#ffffff0a;border:1px solid rgba(255,255,255,.12);border-radius:10px;padding:.7rem .9rem;color:var(--text-primary);font-size:.9rem}.form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}[data-theme=light][_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [data-theme=light][_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background:#ffffffe6;border-color:#0000001a}"]})}}return l})();export{J as BioAdminComponent};

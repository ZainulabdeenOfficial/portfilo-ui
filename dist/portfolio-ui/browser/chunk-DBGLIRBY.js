import{a as k}from"./chunk-VLA566FL.js";import{a as A,b as _,c as T,d as F,e as w,g as N,h as R,k as B,l as L}from"./chunk-WBCQNZSA.js";import{a as I}from"./chunk-QFEF6XV5.js";import{e as O,i as E}from"./chunk-SSKLMT2D.js";import{Fb as S,Gb as M,Ha as g,Hb as U,Na as v,Pa as s,Qb as V,Va as i,Wa as t,Xa as c,Ya as C,Z as x,Za as f,_a as p,cb as n,db as h,eb as P,fa as b,ga as j,hb as y,xa as l,ya as u}from"./chunk-V5WJDX62.js";function D(o,m){if(o&1&&(i(0,"span"),n(1),t()),o&2){let e=p();l(),h(e.editingId()?"Update Project":"Add Project")}}function q(o,m){o&1&&c(0,"span",31)}function z(o,m){o&1&&(i(0,"div",32),n(1,"Loading projects..."),t())}function G(o,m){o&1&&(i(0,"div",32),n(1," No projects found. Add your first project above. "),t())}function $(o,m){if(o&1){let e=C();i(0,"article",35)(1,"div",36)(2,"h3"),n(3),t(),i(4,"p",37),n(5),t(),i(6,"p",38),n(7),t()(),i(8,"div",39)(9,"button",40),f("click",function(){let r=b(e).$implicit,d=p(2);return j(d.editProject(r))}),n(10,"Edit"),t(),i(11,"button",41),f("click",function(){let r=b(e).$implicit,d=p(2);return j(d.deleteProject(r))}),n(12," Delete "),t()()()}if(o&2){let e=m.$implicit,a=p(2);l(3),h(e.title),l(2),h(e.description),l(2),P("Tech: ",e.technologiesUsed,""),l(4),s("disabled",a.saving())}}function H(o,m){if(o&1&&(i(0,"div",33),v(1,$,13,4,"article",34),t()),o&2){let e=p();l(),s("ngForOf",e.projects())("ngForTrackBy",e.trackById)}}var oe=(()=>{class o{constructor(e,a,r){this.fb=e,this.projectsService=a,this.toast=r,this.projects=g([]),this.loading=g(!0),this.saving=g(!1),this.editingId=g(null),this.form=this.fb.group({title:["",_.required],description:["",_.required],imageUrl:["",_.required],technologiesUsed:["",_.required],projectUrl:[""],githubUrl:[""]})}ngOnInit(){this.refresh()}onSubmit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.saving.set(!0);let e=this.form.value,a=this.editingId();(a?this.projectsService.update(a,e):this.projectsService.create(e)).subscribe(d=>{this.saving.set(!1),d?(this.toast.show(a?"Project updated.":"Project added.","success"),this.resetForm(),this.refresh()):this.toast.show("Failed to save project.","error")})}editProject(e){e.id&&(this.editingId.set(e.id),this.form.patchValue({title:e.title,description:e.description,imageUrl:e.imageUrl,technologiesUsed:e.technologiesUsed,projectUrl:e.projectUrl,githubUrl:e.githubUrl}))}deleteProject(e){e.id&&(this.saving.set(!0),this.projectsService.delete(e.id).subscribe(a=>{this.saving.set(!1),a?(this.toast.show("Project deleted.","success"),this.refresh()):this.toast.show("Failed to delete project.","error")}))}resetForm(){this.editingId.set(null),this.form.reset({title:"",description:"",imageUrl:"",technologiesUsed:"",projectUrl:"",githubUrl:""})}refresh(){this.loading.set(!0),this.projectsService.getAll().subscribe(e=>{this.projects.set(e||[]),this.loading.set(!1)})}trackById(e,a){return a.id}static{this.\u0275fac=function(a){return new(a||o)(u(B),u(k),u(V))}}static{this.\u0275cmp=x({type:o,selectors:[["app-projects-admin"]],standalone:!0,features:[y],decls:51,vars:8,consts:[[1,"section","admin-projects"],[1,"container"],["appReveal","",1,"admin-projects__header"],["appReveal","",1,"admin-projects__card","glass-card",3,"ngSubmit","formGroup"],[1,"form-grid"],[1,"form-field"],["for","title"],["id","title","type","text","formControlName","title"],["for","imageUrl"],["id","imageUrl","type","text","formControlName","imageUrl"],[1,"form-field","full"],["for","description"],["id","description","rows","3","formControlName","description"],["for","technologiesUsed"],["id","technologiesUsed","type","text","formControlName","technologiesUsed"],["for","projectUrl"],["id","projectUrl","type","text","formControlName","projectUrl"],["for","githubUrl"],["id","githubUrl","type","text","formControlName","githubUrl"],[1,"admin-projects__actions"],["type","submit",1,"btn","btn--primary",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],["type","button",1,"btn","btn--outline",3,"click","disabled"],["routerLink","/admin/contacts",1,"btn","btn--outline"],["routerLink","/admin/books",1,"btn","btn--outline"],["routerLink","/admin/bio",1,"btn","btn--outline"],["routerLink","/",1,"btn","btn--outline"],["appReveal","",1,"admin-projects__list"],["class","empty-state",4,"ngIf"],["class","projects-grid",4,"ngIf"],[1,"spinner"],[1,"empty-state"],[1,"projects-grid"],["class","project-card glass-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"project-card","glass-card"],[1,"project-card__info"],[1,"project-card__desc"],[1,"project-card__tech"],[1,"project-card__actions"],[1,"btn","btn--sm","btn--outline",3,"click"],[1,"btn","btn--sm","btn--primary",3,"click","disabled"]],template:function(a,r){a&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),n(4,"Admin Projects"),t(),i(5,"p"),n(6,"Create, update, or remove projects displayed on the portfolio."),t()(),i(7,"form",3),f("ngSubmit",function(){return r.onSubmit()}),i(8,"div",4)(9,"div",5)(10,"label",6),n(11,"Title"),t(),c(12,"input",7),t(),i(13,"div",5)(14,"label",8),n(15,"Image URL"),t(),c(16,"input",9),t(),i(17,"div",10)(18,"label",11),n(19,"Description"),t(),c(20,"textarea",12),t(),i(21,"div",10)(22,"label",13),n(23,"Technologies Used (comma separated)"),t(),c(24,"input",14),t(),i(25,"div",5)(26,"label",15),n(27,"Project URL"),t(),c(28,"input",16),t(),i(29,"div",5)(30,"label",17),n(31,"GitHub URL"),t(),c(32,"input",18),t()(),i(33,"div",19)(34,"button",20),v(35,D,2,1,"span",21)(36,q,1,0,"span",22),t(),i(37,"button",23),f("click",function(){return r.resetForm()}),n(38," Clear "),t(),i(39,"a",24),n(40,"Manage Contacts"),t(),i(41,"a",25),n(42,"Manage Books"),t(),i(43,"a",26),n(44,"Back to Bio"),t(),i(45,"a",27),n(46,"Back to Portfolio"),t()()(),i(47,"div",28),v(48,z,2,0,"div",29)(49,G,2,0,"div",29)(50,H,2,2,"div",30),t()()()),a&2&&(l(7),s("formGroup",r.form),l(27),s("disabled",r.saving()||r.form.invalid),l(),s("ngIf",!r.saving()),l(),s("ngIf",r.saving()),l(),s("disabled",r.saving()),l(11),s("ngIf",r.loading()),l(),s("ngIf",!r.loading()&&r.projects().length===0),l(),s("ngIf",!r.loading()&&r.projects().length))},dependencies:[U,S,M,L,w,A,T,F,N,R,E,O,I],styles:[".admin-projects__header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.admin-projects__header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-primary);font-size:2rem;margin-bottom:.5rem}.admin-projects__header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary)}.admin-projects__card[_ngcontent-%COMP%]{padding:2rem;margin-bottom:2.5rem}.admin-projects__actions[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;gap:1rem;flex-wrap:wrap}.admin-projects__list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:1rem 1.5rem}.form-grid[_ngcontent-%COMP%]   .full[_ngcontent-%COMP%]{grid-column:1/-1}@media (max-width: 768px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem}.form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.85rem}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background:#ffffff0a;border:1px solid rgba(255,255,255,.12);border-radius:10px;padding:.7rem .9rem;color:var(--text-primary);font-size:.9rem}.form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.projects-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1.5rem}.project-card[_ngcontent-%COMP%]{padding:1.25rem;display:flex;flex-direction:column;gap:.8rem}.project-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--text-primary)}.project-card__desc[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem}.project-card__tech[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.8rem}.project-card__actions[_ngcontent-%COMP%]{display:flex;gap:.6rem}"]})}}return o})();export{oe as ProjectsAdminComponent};
